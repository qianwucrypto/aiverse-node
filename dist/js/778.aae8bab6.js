"use strict";(self["webpackChunkaiverse_node"]=self["webpackChunkaiverse_node"]||[]).push([[778],{2778:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mobile-friend"},[e("div",{staticClass:"min-h-screen bg-alpha-surface pb-16 relative"},[e("div",{staticClass:"absolute inset-0 bg-contain bg-center bg-no-repeat z-0 home-bg"}),e("div",{staticClass:"relative z-10"},[e("div",{staticClass:"px-4 py-6 mt-0 pt-0",staticStyle:{"padding-top":"70px"}},[e("div",{staticClass:"rounded-xl py-6 px-4 mb-3 flex items-center bg-opacity-30 bg-active"},[e("img",{staticClass:"h-12 w-12 object-contain mr-4",attrs:{src:"https://wufeng98.cn/imgServerApi/images/23cc70b9-a640-404b-b210-479a50e24728.png",alt:"Level"}}),e("div",{staticClass:"text-left flex-1"},[e("p",{staticClass:"text-xl font-bold text-active-color tracking-widest"},[t._v(" 当前等级 "),e("span",[t._v("L"+t._s(t.level>10?10:t.level))])])]),e("div",{staticStyle:{width:"100px"}},[e("div",[t._v("贡 献 值")]),e("div",{staticClass:"text-2xl font-bold text-active-color tracking-widest"},[t._v(t._s(t.pointCount))])])]),e("div",{staticClass:"rounded-xl py-6 px-4 mb-3",staticStyle:{background:"linear-gradient(135deg, rgb(42, 47, 47) 0%, rgb(29, 34, 35) 100%)"}},[e("h3",{staticClass:"text-xl font-bold mb-3 text-active-color"},[t._v("您的邀请链接")]),e("div",{staticClass:"relative"},[e("div",{staticClass:"flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inviteLink,expression:"inviteLink"}],staticClass:"bg-alpha-surface text-gray-300 rounded-l-lg px-3 py-3 flex-grow border border-gray-700 focus:outline-none",attrs:{type:"text",readonly:"",disabled:""},domProps:{value:t.inviteLink},on:{input:function(e){e.target.composing||(t.inviteLink=e.target.value)}}}),e("button",{staticClass:"text-black font-bold px-6 py-3 rounded-r-lg focus:outline-none transition-all duration-300 bg-active",attrs:{id:"copyFriendsLink"},on:{click:t.copyLink}},[t._v("复制")])])])]),e("div",{staticClass:"rounded-xl py-6 px-4 mb-3 bg-active"},[e("div",{staticClass:"flex items-center mb-4"},[e("svg",{staticClass:"h-6 w-6 mr-2 text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"}})]),e("h3",{staticClass:"text-base font-bold text-white"},[t._v("直推列表")])]),e("div",{staticClass:"space-y-4"},[t.downLines.length?t._e():e("div",{staticClass:"text-center text-gray-400 py-2"},[t._v(" 暂无直推 ")]),t._l(t.downLineList,function(s,i){return e("div",{key:i},[e("div",{staticClass:"bg-white bg-opacity-20 rounded-lg p-4"},[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"flex items-center justify-between",staticStyle:{"font-size":"12px"}},[t._v(t._s(s.address.substr(0,8)+"..."+s.address.substr(-8)))]),e("div",{staticClass:"text-active-color"},[e("span",{staticClass:"font-bold mr-1"},[t._v(t._s(s.count||0))]),t._v("人")])])])])})],2)])])])]),t.toastShow?e("div",{staticClass:"toast-message"},[t._v(t._s(t.toastText))]):t._e()])},n=[],a=(s(6040),s(8773),s(9062),s(7173)),o={name:"Home",data:()=>({toastShow:!1,toastText:"",inviteAddress:"",isLoading:!1,downLineList:[]}),computed:{...(0,a.aH)(["user","walletAddress","isConnected","isChainCorrect","isRegistered","walletAddress","poolInstance"]),walletAddressShow(){return this.walletAddress.substr(0,5)+"..."+this.walletAddress.substr(-5)},rewardCount(){return console.log(this.user),this.user?(console.log(this.user.tokenRewardCount),this.user.tokenRewardCount||0):0},inviteLink(){return this.walletAddress?window.location.origin+window.location.pathname+"#/?address="+this.walletAddress:""},teamCount(){return this.user&&this.user.downlines&&this.user.downlines.length?this.user.downlines.length:0},downLines(){return this.user?this.user.downlines||[]:0},pointCount(){return this.user&&this.user.pointCount||0},level(){return this.user&&this.user.pointCount?this.calcLevel(this.user.pointCount):0}},watch:{user:{handler(t){t&&this.user.downlines&&this.user.downlines.length&&(this.downLineList=this.user.downlines.map(t=>({address:t,count:0})),this.downLineList.forEach((t,e)=>{this.getDownLineDetail(t)}))},deep:!0,immediate:!0}},created(){let t=this.$getQueryString("address");t&&(this.inviteAddress=t)},methods:{calcLevel(t){let e=0;return this.$appConfig.levelList.forEach((s,i)=>{t>=s&&(e=i+1)}),e},getDownLineDetail(t){this.poolInstance&&this.poolInstance.getUsers(t.address).then(e=>{e[1]&&e[1].length&&(t.count=e[1].length)}).catch(t=>{console.log(t)})},async copyLink(){await navigator.clipboard.writeText(this.inviteLink),this.showToast("复制成功")},showToast(t){this.toastText=t,this.toastShow=!0,setTimeout(()=>{this.toastShow=!1,this.toastText=""},2e3)}}},r=o,l=s(8818),d=(0,l.A)(r,i,n,!1,null,"7a0b6bec",null),c=d.exports}}]);
//# sourceMappingURL=778.aae8bab6.js.map